<div class="container-head learning-section">

  <div class="row">
    <div class="col-lg-9 col-md-9 col-sm-9">
      <ul class="breadcrumb">
        <li><a href="/home"><i class="fa fa-home fa-lg"></i></a></li>
        <li class="active">LEARN</li>
      </ul>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-3">
      <div class="row ">
        <div class="col-lg-12 ">
          <div class="form-group">
           <input required="" type="text" name="addr" id="addr" class="form-control" placeholder="search">
         </div>
       </div>

     </div>
   </div>

 </div>


 <div class="row">
  <div class="col-lg-9">

    <div class="submit-articale-section">
     <h1>Submit Your Article</h1>
     <div class="register-form-hr"></div>
     <form novalidate  name="form" role='form' enctype= 'multipart/form-data' class="">
      <button ng-click="template(1)" class="btn btn-primary">Template 1 <i class="fa fa-angle-right"></i></button>
      <div class="dashboard-section">
        <div class="row register-form-row-pad">
          <div class="col-md-2">
          <label>Title</label>
          </div>
          <div class="col-lg-10 col-md-10 col-sm-10 paddingr-7">
            <div class="form-group" ng-class="{'has-error':form.title.$dirty && form.title.$error.required,'has-success':form.title.$valid}">
              <input type="text" class="form-control" name="title" placeholder="Title"  ng-model="article.title" required ng-minlength=5>
              <p class="text-danger" ng-show="form.title.$dirty && form.title.$error.required">Please fill title.</p>
              <p class="text-danger" ng-show="form.title.$dirty && form.title.$error.minlength">your title shoud be minimum 5 character long .</p>
              <p class="text-danger" ng-show="form.title.$error.mongoose">{{ errors.title }} </p>

            </div>
          </div>

        </div>
        <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2">

                  <label>Author</label>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10">

                  <select  class="form-control" ng-model="article.author" ng-options="o._id as o.name for o in experts" placeholder="Choose Expert"></select>

              </div>
        </div>

        <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <p class="input-group">
                      <label>Date</label>
                    </p>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10">
                    <p class="input-group">
                      <input type="text" class="form-control" datepicker-popup="dd-MM-yyyy" ng-model="article.createdAt" is-open="opened" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="Close" />
                      <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                      </span>
                    </p>
                </div>
            </div>


            <div class="row">
            <div class="col-md-2">
            <label>Topic/Sub-topic</label>
            </div>
            <div class="col-md-10">
            <div class="row">
            <div class="col-md-4 col-sm-4">
            <h2>MMI</h2>
            <div class="form-group">
            <label>Category</label>
            <select  class="form-control" name="mmicategory" ng-model="article.mmicategory" ng-change="changemmicategory()">
             <option value=""> ---Select MMI Category--- </option>
             <option ng-repeat="(key,value) in mmicategory" value="{{value.name}}">{{value.name}}</option>
            </select>
             </div>
            <div class="form-group">
            <label>Sub Category</label>
            <select  class="form-control" name="mmisubcategory" ng-model="article.mmisubcategory" >
              <option value=""> ---Select MMI Sub Category--- </option>
              <option ng-repeat="(key,value) in mmisubcategory" value="{{value.name}}">{{value.name}}</option>
            </select>
             </div>
            </div>


            <div class="col-md-4 col-sm-4">
            <h2>PIN</h2>
            <div class="form-group">
            <label>Category</label>
            <select  class="form-control" ng-model="article.category" ng-options="o as o for o in category" placeholder="choose category"></select>
             </div>

            </div>

            <div class="col-md-4 col-sm-4">
            <h2>TMH</h2>
            <div class="form-group">
            <label>Category</label>
            <select  class="form-control" ng-model="article.hanscategory" ng-options="o as o for o in hanscategory" placeholder="choose money hans category"></select>
             </div>

            </div>
            </div>
            </div>
            </div>
            <div class="row">
                    <div class="col-lg-2 col-md-2 col-sm-2">

                      <label>Columns</label>
                    </div>
                    <div class="col-lg-10 col-md-10 col-sm-10">

                      <select  class="form-control" ng-model="article.column" ng-options="o as o for o in column" placeholder="Choose Column"></select>

                  </div>
            </div>
            <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2">
                  <label>Youtube Url</label>
                  </div>
                  <div class="col-lg-10 col-md-10 col-sm-10">
                  <input type="text" class="form-control" ng-model="article.youtubeurl"  placeholder="video url like https://www.youtube.com/watch?v=YqeW9_5kURI"/>
              </div>
            </div>
            <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2">
                  <label>Meta Title</label>
                  </div>
                  <div class="col-lg-10 col-md-10 col-sm-10">
                  <input type="text" class="form-control" ng-model="article.metatitle"  placeholder="please write title which you want to pick up in SEO"/>
              </div>
            </div>

           <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2">
                  <label>Meta Description</label>
                  </div>
                  <div class="col-lg-10 col-md-10 col-sm-10">
                    <textarea class="form-control" ng-model="article.metadescription" placeholder="write short description for this article it will use for SEO purpose">
                    </textarea>
                 </div>
            </div>  
            <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2">
                  <label>Meta Keywords</label>
                  </div>
                  <div class="col-lg-10 col-md-10 col-sm-10">
                    <textarea class="form-control" ng-model="article.metakeywords" placeholder="write metakeyword for this article this is like comma separed words  like   mmi, moneyhans,indianpin">
                    </textarea>
                 </div>
            </div>

<div class="row ">
          <div class="col-lg-12 col-md-12 col-sm-12">

            <div class="form-group" ng-class="{'has-error':form.description.$dirty && form.description.$error.required,'has-success':form.description.$valid}">
              <label class="control-label" for="description">Description</label>
              <text-angular class="rituraj" name="description" ng-model="article.description" required ng-minlength=20 ta-toolbar="[ ['h1', 'h2','quote','insertLink'],['bold', 'italics', 'underline', 'strikeThrough'],['justifyLeft','justifyCenter','justifyRight'],['ul', 'ol'],['insertImage', 'insertVideo']]"> </text-angular>

              <!-- <text-angular class="form-control" rows="5"  name="description" ng-model="article.description" required ng-minlength=20> </text-angular> -->
              <p class="text-danger" ng-show="form.description.$dirty && form.description.$error.required">Please fill description.</p>
              <p class="text-danger" ng-show="form.description.$dirty && form.description.$error.minlength">your description shoud be minimum 20 character long .</p>
              <p class="text-danger" ng-show="form.description.$error.mongoose">{{ errors.description }} </p>
            </div>
          </div>
        </div>
        <!-- <div class="form-group">
          <label for="tags">Tags</label>
          <div tooltip="Add about three to four tags for better discoveribility of your article">
            <tags-input
            display-property=""
            class="tags-input"
            min-tags="1"
            ng-model="article.tags"
            placeholder="Add a tag and press enter (min length 3 characters)"
            replace-spaces-with-dashes="false">
          </tags-input>
        </div>
      </div> -->
    </div>

    <div class="form-group">
     <label class="control-label" for="fullName">Media </label>
     <!-- <input type="file" ng-file-select="" ng-model="picFile" name="files" name="file" accept="image/*"  ng-model-instant id="fileToUpload" multiple onchange="angular.element(this).scope().setFiles(this)" /> -->
     <input type="file" ng-file-select="" ng-model="picFile" name="files"   ng-model-instant id="fileToUpload" multiple onchange="angular.element(this).scope().setFiles(this)" />


 <!--        Profile Picture: <input type="file" ng-file-select=""  ng-model="picFile" name="file" accept="image/*" ng-file-change="generateThumb(picFile[0], $files)"  required="">
-->        <i class="text-danger" ng-show="form.file.$error.required">*required</i>
<br/>
<!-- <img ng-show="mainFIle[0].dataUrl != null" ng-src="{{mainFIle[0].dataUrl}}" class="thumb" style="height:100px;width: 100px">   -->
<br/>
<span class="progress" ng-show="mainFIle[0].progress >= 0">
  <div style="width:{{mainFIle[0].progress}}%" ng-bind="mainFIle[0].progress + '%'" class="ng-binding"></div>
</span>
<span ng-show="mainFIle[0].result">Upload Successful</span>
<!-- <button >Submit</button> -->


</div>

<div class="form-group" ng-show="videoupload">

     <label class="control-label" for="fullName">Thumble </label>
     <input type="file" ng-file-select="" ng-model="thumblePicFile"  name="thumblefiles"  ng-model-instant id="thumbleFileToUpload" multiple onchange="angular.element(this).scope().setThumbleFiles(this)" />

<br/>

<span class="progress" ng-show="thumbleFile[0].progress >= 0">
  <div style="width:{{thumbleFile[0].progress}}%" ng-bind="thumbleFile[0].progress + '%'" class="ng-binding"></div>
</span>
<span ng-show="thumbleFile[0].result">Upload Successful</span>
</div>

<!-- <div class="checkbox italic-font">
  <label><input type="checkbox" name= "agree" ng-model="article.checked" required value="">Check box to agree to these submission guide line</label>
</div> -->



<br/>
<br/>




<!-- <button type="submit" ng-disabled="form.$invalid" class='btn btn-success' >Add</button>  -->
<button ng-show="filearticle" class='btn btn-primary' ng-disabled="!form.$valid" ng-click="uploadPic(mainFIle)" >Add <i class="fa fa-angle-right"></i></button>
<button ng-hide="filearticle" class='btn btn-primary' ng-disabled="!form.$valid" ng-click="saveArticle(form)" >Add <i class="fa fa-angle-right"></i></button>
<!-- <button class='btn register-bt' ng-click=" preview = !preview " >Preview</button>  -->
        <!-- <button  type="reset" ng-click="reset(form)" class='btn btn-warning'>Reset</button>
        <a  href="/dashboard" class='btn btn-danger'>Cancel</a>  -->
        <p ng-show="articleDone"><span>*</span> Thank you for contribution. your articale will be moderated by the admin.we will notify you shortly.</p>
        <br></br>

        <!-- <div class="alert alert-success" role="alert" ng-show="articleDone">
         You have successfully written new Article see article here  <a ng-href="/articles/view/{{articleResponse.article._id}}"><b>Click Here</b></a>
       </div> -->

<!-- <div class="row" ng-show="preview" > -->
<div class="row" >
<div class="preview-outer">
<div class="preview-area">
<div class="preview-eye"><i class="fa fa-eye"></i> Preview</div>
<div class="preview-shadow">
    <h1>{{article.title}}</h1>
    <div class="green-hr"></div>

      <!-- <img src="images/learn-img.png" class="pull-right" alt=""> -->
      <div  class="col-lg-7 col-md-7 col-sm-7 pull-right mar-img-l" >
 <!--        <img src="images/articels001.jpg"  title="{{article.title}}" ng-show="mainFIle[0].dataUrl == null" class="img-responsive">

        <img  ng-show="mainFIle[0].dataUrl != null" ng-src="{{mainFIle[0].dataUrl}}" class="img-responsive" >
 -->

    </div>

    <p>{{article.createdAt | date:"MMMM d, yyyy" }}</p>
    <p ng-bind-html="article.description | rawHtml"></p>

</div>
</div>
</div>
</div>
     </form>


   </div>

 </div>


 <div class="col-lg-3 col-md-3 col-sm-3">
  <div ng-include="'partials2/right-nav.html'"> </div>
</div>
</div>
</div>
